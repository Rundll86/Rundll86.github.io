<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>快速开始 | FS-Context</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="stylesheet" href="https://cdn.staticfile.net/prism-themes/1.9.0/prism-vsc-dark-plus.min.css">
    <meta name="description" content="一个易用的 ScratchExtension TypeScript 上下文">
    
    <link rel="preload" href="/fs-context/assets/css/0.styles.424b0990.css" as="style"><link rel="preload" href="/fs-context/assets/js/app.38257f5d.js" as="script"><link rel="preload" href="/fs-context/assets/js/2.98f2da43.js" as="script"><link rel="preload" href="/fs-context/assets/js/1.37ef2fe2.js" as="script"><link rel="preload" href="/fs-context/assets/js/25.303e5042.js" as="script"><link rel="prefetch" href="/fs-context/assets/js/10.d25ec25c.js"><link rel="prefetch" href="/fs-context/assets/js/11.e50981bd.js"><link rel="prefetch" href="/fs-context/assets/js/12.e5dd8aae.js"><link rel="prefetch" href="/fs-context/assets/js/13.07225e92.js"><link rel="prefetch" href="/fs-context/assets/js/14.c8d6a84a.js"><link rel="prefetch" href="/fs-context/assets/js/15.65c34701.js"><link rel="prefetch" href="/fs-context/assets/js/16.9d77fd94.js"><link rel="prefetch" href="/fs-context/assets/js/17.8a64bf99.js"><link rel="prefetch" href="/fs-context/assets/js/18.2a3abdae.js"><link rel="prefetch" href="/fs-context/assets/js/19.f5cee7f8.js"><link rel="prefetch" href="/fs-context/assets/js/20.f14fb674.js"><link rel="prefetch" href="/fs-context/assets/js/21.802e1d51.js"><link rel="prefetch" href="/fs-context/assets/js/22.cd278746.js"><link rel="prefetch" href="/fs-context/assets/js/23.b7ad6494.js"><link rel="prefetch" href="/fs-context/assets/js/24.6ae77a8c.js"><link rel="prefetch" href="/fs-context/assets/js/26.010ca6a8.js"><link rel="prefetch" href="/fs-context/assets/js/27.7e99de3b.js"><link rel="prefetch" href="/fs-context/assets/js/28.63e0f065.js"><link rel="prefetch" href="/fs-context/assets/js/3.ad9e44c4.js"><link rel="prefetch" href="/fs-context/assets/js/4.dc43690d.js"><link rel="prefetch" href="/fs-context/assets/js/5.16cb72aa.js"><link rel="prefetch" href="/fs-context/assets/js/6.cda45e50.js"><link rel="prefetch" href="/fs-context/assets/js/7.ef304402.js"><link rel="prefetch" href="/fs-context/assets/js/vendors~docsearch.c632dcce.js">
    <link rel="stylesheet" href="/fs-context/assets/css/0.styles.424b0990.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fs-context/" class="home-link router-link-active"><!----> <span class="site-name">FS-Context</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>快速开始</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fs-context/guide/#还原依赖" class="sidebar-link">还原依赖</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fs-context/guide/#启动开发服务器" class="sidebar-link">启动开发服务器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fs-context/guide/#使用界面调试" class="sidebar-link">使用界面调试</a></li><li class="sidebar-sub-header"><a href="/fs-context/guide/#使用编辑器调试" class="sidebar-link">使用编辑器调试</a></li></ul></li><li><a href="/fs-context/guide/#配置加载目标和平台" class="sidebar-link">配置加载目标和平台</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fs-context/guide/#使用范例拓展" class="sidebar-link">使用范例拓展</a></li><li class="sidebar-sub-header"><a href="/fs-context/guide/#使用自定义拓展" class="sidebar-link">使用自定义拓展</a></li></ul></li><li><a href="/fs-context/guide/#部署翻译器" class="sidebar-link">部署翻译器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fs-context/guide/#创建翻译器" class="sidebar-link">创建翻译器</a></li></ul></li><li><a href="/fs-context/guide/#指定目标拓展" class="sidebar-link">指定目标拓展</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fs-context/guide/#设置拓展的元数据" class="sidebar-link">设置拓展的元数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fs-context/guide/#id、name、version、description" class="sidebar-link">ID、Name、Version、Description</a></li><li class="sidebar-sub-header"><a href="/fs-context/guide/#主题色" class="sidebar-link">主题色</a></li><li class="sidebar-sub-header"><a href="/fs-context/guide/#拓展贡献者列表" class="sidebar-link">拓展贡献者列表</a></li><li class="sidebar-sub-header"><a href="/fs-context/guide/#定义积木" class="sidebar-link">定义积木</a></li><li class="sidebar-sub-header"><a href="/fs-context/guide/#定义菜单" class="sidebar-link">定义菜单</a></li><li class="sidebar-sub-header"><a href="/fs-context/guide/#更灵活的菜单项写法" class="sidebar-link">更灵活的菜单项写法</a></li><li class="sidebar-sub-header"><a href="/fs-context/guide/#实验中⚠" class="sidebar-link">实验中⚠</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="快速开始"><a href="#快速开始" class="header-anchor">#</a> 快速开始</h1> <p>在开始开发前，需要先进行一些准备。<br>
接下来所有教程的工作目录均位于<code>./src</code>目录内。要访问该目录给的内容，可使用<code>@src</code>别名来代替相对导入。</p> <h2 id="还原依赖"><a href="#还原依赖" class="header-anchor">#</a> 还原依赖</h2> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="启动开发服务器"><a href="#启动开发服务器" class="header-anchor">#</a> 启动开发服务器</h2> <p>框架提供了两种调试拓展的方法。</p> <h3 id="使用界面调试"><a href="#使用界面调试" class="header-anchor">#</a> 使用界面调试</h3> <p>对于积木作用域和整体vm需求较小的拓展，可在WaterBox界面中调试。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> dev:ui
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="使用编辑器调试"><a href="#使用编辑器调试" class="header-anchor">#</a> 使用编辑器调试</h3> <p>对于功能较复杂的拓展，可载入编辑器进行调试。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> dev:ext
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="配置加载目标和平台"><a href="#配置加载目标和平台" class="header-anchor">#</a> 配置加载目标和平台</h2> <p>你可以选择让框架加载一个<code>范例拓展</code>，也可以使框架加载你的<code>自定义拓展</code>。修改<code>config/loader.ts</code>中的配置项即可实现。</p> <h3 id="使用范例拓展"><a href="#使用范例拓展" class="header-anchor">#</a> 使用范例拓展</h3> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">LoaderConfig</span> <span class="token operator">=</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;@framework/internal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>LoaderConfig<span class="token punctuation">;</span>
<span class="token keyword">const</span> config<span class="token operator">:</span> LoaderConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    target<span class="token operator">:</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;@samples/fs-iframe/extension&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//从@samples别名中加载模块</span>
    errorCatches<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//不捕获任何运行时错误</span>
    platform<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;TurboWarp&quot;</span><span class="token punctuation">]</span> <span class="token comment">//加载到TW</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span> <span class="token operator">...</span>config <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="使用自定义拓展"><a href="#使用自定义拓展" class="header-anchor">#</a> 使用自定义拓展</h3> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">LoaderConfig</span> <span class="token operator">=</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;@framework/internal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>LoaderConfig<span class="token punctuation">;</span>
<span class="token keyword">const</span> config<span class="token operator">:</span> LoaderConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    target<span class="token operator">:</span> <span class="token string">&quot;@src/extension&quot;</span><span class="token punctuation">,</span> <span class="token comment">//从当前源代码目录加载模块，即别名@src</span>
    errorCatches<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;ExtensionLoadError&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//捕获拓展加载时发生的错误</span>
    platform<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;GandiIDE&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TurboWarp&quot;</span><span class="token punctuation">]</span> <span class="token comment">//加载到Gandi和TW</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span> <span class="token operator">...</span>config <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h1 id="基本代码结构"><a href="#基本代码结构" class="header-anchor">#</a> 基本代码结构</h1> <p>拓展的主要代码入口点位于<code>extension.ts</code></p> <h2 id="部署翻译器"><a href="#部署翻译器" class="header-anchor">#</a> 部署翻译器</h2> <p>在Gandi中使用<code>translate.setup</code>有一个致命问题，<em>后加载的拓展</em>将会<strong>全量覆盖</strong><em>先加载的拓展</em>的翻译库，因此我们使用一个新定义的翻译器来解决这个问题。<br>
对于将会使用<code>Transifex</code>平台且部署于<code>TurboWarp拓展库</code>的拓展，<strong>可跳过此章节</strong>。</p> <h3 id="创建翻译器"><a href="#创建翻译器" class="header-anchor">#</a> 创建翻译器</h3> <p>翻译器需要配置基本语言及其翻译库，并使用<code>Translator.create</code>方法进行创建。不要直接new，会失去类型检查。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">let</span> translator <span class="token operator">=</span> Translator<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">&quot;zh-cn&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;我的拓展&quot;</span><span class="token punctuation">,</span>
    des<span class="token operator">:</span> <span class="token string">&quot;这是我的第一个拓展&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>储存其他语言的翻译库时，使用<code>translator.store</code>方法，将会自动提示需要的键。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code>translator<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token string">&quot;en&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;My Extension&quot;</span><span class="token punctuation">,</span>
    des<span class="token operator">:</span> <span class="token string">&quot;This is my first extension&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="指定目标拓展"><a href="#指定目标拓展" class="header-anchor">#</a> 指定目标拓展</h2> <p>将拓展的类原型作为一个<strong>默认导出</strong>，框架会自动加载。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">MyExtension</span> <span class="token keyword">extends</span> <span class="token class-name">Extension</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="设置拓展的元数据"><a href="#设置拓展的元数据" class="header-anchor">#</a> 设置拓展的元数据</h2> <h3 id="id、name、version、description"><a href="#id、name、version、description" class="header-anchor">#</a> ID、Name、Version、Description</h3> <p>覆盖<code>Extension</code>基类的字段即可。<br>
拓展的元数据本质上是字符串，因此可以使用<code>translator.load</code>方法进行翻译。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">MyExtension</span> <span class="token keyword">extends</span> <span class="token class-name">Extension</span> <span class="token punctuation">{</span>
    id <span class="token operator">=</span> <span class="token string">&quot;myextension&quot;</span><span class="token punctuation">;</span>
    displayName <span class="token operator">=</span> translator<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    version <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Version</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    description <span class="token operator">=</span> translator<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;des&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="主题色"><a href="#主题色" class="header-anchor">#</a> 主题色</h3> <p>覆盖<code>Extension</code>基类的<code>color字段</code>即可，类型为<code>ColorDefine</code>接口。<br>
可直接覆写<code>color</code>中的<code>theme</code>字段，框架可根据主题色自动推断<strong>三个分别变深的颜色</strong>。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">MyExtension</span> <span class="token keyword">extends</span> <span class="token class-name">Extension</span> <span class="token punctuation">{</span>
    color<span class="token operator">:</span> ColorDefine <span class="token operator">=</span> <span class="token punctuation">{</span>
        theme<span class="token operator">:</span> <span class="token string">&quot;#ff0000&quot;</span> <span class="token comment">//红色</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>也可以<strong>禁用</strong>框架的自动推断功能，自定义设置三个主题颜色，字段<code>block</code>、<code>inputer</code>、<code>menu</code>分别对应<strong>积木颜色</strong>、<strong>输入框颜色</strong>、<strong>菜单颜色</strong>。<br>
记得要将字段<code>autoDeriveColors</code>设为<code>false</code>。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">MyExtension</span> <span class="token keyword">extends</span> <span class="token class-name">Extension</span> <span class="token punctuation">{</span>
    autoDeriveColors <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    color<span class="token operator">:</span> ColorDefine <span class="token operator">=</span> <span class="token punctuation">{</span>
        block<span class="token operator">:</span> <span class="token string">&quot;#ff0000&quot;</span><span class="token punctuation">,</span> <span class="token comment">//红色</span>
        inputer<span class="token operator">:</span> <span class="token string">&quot;#00ff00&quot;</span><span class="token punctuation">,</span> <span class="token comment">//绿色</span>
        menu<span class="token operator">:</span> <span class="token string">&quot;#0000ff&quot;</span> <span class="token comment">//蓝色</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="拓展贡献者列表"><a href="#拓展贡献者列表" class="header-anchor">#</a> 拓展贡献者列表</h3> <p>此功能可能不太必要，若有想要匿名发布拓展<strong>可跳过此章节</strong>。<br>
反之可以覆盖<code>Extension</code>基类的<code>collaborators</code>字段，类型为<code>Collaborator[]</code>。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">MyExtension</span> <span class="token keyword">extends</span> <span class="token class-name">Extension</span> <span class="token punctuation">{</span>
    collaborators<span class="token operator">:</span> Collaborator<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">Collaborator</span><span class="token punctuation">(</span><span class="token string">&quot;FallingShrimp&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;https://f-shrimp.solariix.com&quot;</span><span class="token punctuation">)</span> <span class="token comment">//名称+链接</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="定义积木"><a href="#定义积木" class="header-anchor">#</a> 定义积木</h3> <p>使用<code>Block</code>类的静态方法<code>create</code>创建积木，参数依次为<strong>积木名称</strong>、<strong>积木参数</strong>、<strong>积木执行函数</strong>。<br>
只有在<code>积木参数</code>中<strong>已定义的字段</strong>才会被解析为参数框，否则多余的方括号和美元符号等<i><strong>将会被转义</strong></i>。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code>Block<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>
    <span class="token string">&quot;弹窗 $sth ，使用后缀 _suffix&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        arguments<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                name<span class="token operator">:</span> <span class="token string">&quot;$sth&quot;</span><span class="token punctuation">,</span>
                value<span class="token operator">:</span> <span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">,</span>
                inputType<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                name<span class="token operator">:</span> <span class="token string">&quot;_suffix&quot;</span><span class="token punctuation">,</span>
                value<span class="token operator">:</span> <span class="token string">&quot;已弹窗&quot;</span><span class="token punctuation">,</span>
                inputType<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">function</span> <span class="token function">alertSth</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>$sth <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> args<span class="token punctuation">.</span>_suffix<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>积木参数的定义基于<code>ArgumentDefine</code>接口，其中<code>name</code>字段为<strong>参数框名称</strong>，<code>value</code>字段为<strong>参数框默认值</strong>。<br>
以下是对应字段的需求和默认值：</p> <table><thead><tr><th>字段</th> <th>是否必填</th> <th>默认值</th> <th>类型</th></tr></thead> <tbody><tr><td>name</td> <td>是</td> <td>无</td> <td>字符串</td></tr> <tr><td>value</td> <td>否</td> <td>空字符串</td> <td>任意</td></tr> <tr><td>inputType</td> <td>否</td> <td><code>string</code></td> <td><code>keyof InputTypeCast</code></td></tr></tbody></table> <p>积木参数框的名称需要有<code>$</code>、<code>_</code>这两个字符的<em>任意一种</em>作为前缀。在定义<code>积木文字</code>时可以直接使用字段名来声明参数框，<strong>无需</strong>方括号。</p> <h3 id="定义菜单"><a href="#定义菜单" class="header-anchor">#</a> 定义菜单</h3> <p>可以直接将积木的<code>inputType</code>改为<code>menu</code>，然后在<code>value</code>字段传入一个<code>Menu</code>类的实例，框架能够自动识别。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token punctuation">{</span>
    arguments<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">&quot;$sth&quot;</span><span class="token punctuation">,</span>
            value<span class="token operator">:</span> <span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">,</span>
            inputType<span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">&quot;_suffix&quot;</span><span class="token punctuation">,</span>
            value<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Menu</span><span class="token punctuation">(</span><span class="token string">&quot;suffixes&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;已打印&quot;</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">&quot;printed&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;已输出&quot;</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">&quot;output&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;已显示&quot;</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">&quot;displayed&quot;</span> <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            inputType<span class="token operator">:</span> <span class="token string">&quot;menu&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>也可以在拓展数据中覆写<code>Extension</code>基类的<code>menus</code>字段，作为一个<code>Menu[]</code>。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">MyExtension</span> <span class="token keyword">extends</span> <span class="token class-name">Extension</span> <span class="token punctuation">{</span>
    menus <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">Menu</span><span class="token punctuation">(</span><span class="token string">&quot;suffixes&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;已打印&quot;</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">&quot;printed&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;已输出&quot;</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">&quot;output&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;已显示&quot;</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">&quot;displayed&quot;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>菜单的定义基于<code>Menu</code>类，其中<code>name</code>字段为<strong>菜单名称</strong>，<code>items</code>字段为<strong>菜单项</strong>。菜单默认允许了<code>acceptReporters</code>，不需要手动声明。</p> <h3 id="更灵活的菜单项写法"><a href="#更灵活的菜单项写法" class="header-anchor">#</a> 更灵活的菜单项写法</h3> <p>框架提供了一种更灵活的写法来定义菜单项，可以防止出现轮子屎山。</p> <p>方式A（如下文<code>vegetables</code>菜单）：将项目列表放入一个数组，数组中项可以直接用字符串写<strong>菜单名称</strong>，也可使用等于号<code>=</code>连接<strong>菜单项名称</strong>和<strong>对应值</strong>，框架会自动将<strong>菜单项名称</strong>作为菜单项的<code>name</code>字段，<strong>对应值</strong>作为菜单项的<code>value</code>字段。若没有使用等于号，框架会自动将<strong>菜单项名称</strong>同时作为菜单项的<code>name</code>字段和<code>value</code>字段。</p> <p>方式B（如下文<code>sauces</code>菜单）：将项目列表放入一个字符串，使用英文逗号<code>,</code>分隔，项类型同上，不过在这种写法下无法使用声明对象的方式来指定<code>name</code>字段和<code>value</code>字段。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">new</span> <span class="token class-name">Menu</span><span class="token punctuation">(</span><span class="token string">&quot;vegetables&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;土豆=potato&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;胡萝卜=carrot&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Unnamed vegitable&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;Named vegitable of Onion&quot;</span><span class="token punctuation">,</span>
        value<span class="token operator">:</span> <span class="token string">&quot;onion&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Cabbage白菜&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">Menu</span><span class="token punctuation">(</span><span class="token string">&quot;sauces&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;番茄酱=ketchup,蛋黄酱=mayonnaise,mushroom,辣椒酱=hot sauce&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>这两段代码等价于：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">new</span> <span class="token class-name">Menu</span><span class="token punctuation">(</span><span class="token string">&quot;vegetables&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;土豆&quot;</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">&quot;potato&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;胡萝卜&quot;</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">&quot;carrot&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;Unnamed vegitable&quot;</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">&quot;Unnamed vegitable&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;Named vegitable of Onion&quot;</span><span class="token punctuation">,</span>
        value<span class="token operator">:</span> <span class="token string">&quot;onion&quot;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;Cabbage白菜&quot;</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">&quot;Cabbage白菜&quot;</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">Menu</span><span class="token punctuation">(</span><span class="token string">&quot;sauces&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;番茄酱&quot;</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">&quot;ketchup&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;蛋黄酱&quot;</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">&quot;mayonnaise&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;mushroom&quot;</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">&quot;mushroom&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;辣椒酱&quot;</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">&quot;hot sauce&quot;</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>不过这种写法需要堆砌很多<code>{ name: &quot;xxx&quot;, value: &quot;xxx&quot; }</code>，因此框架省去了此轮子写法。</p> <p>关于菜单<code>sauces</code>，将会被框架生成为TW格式：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;acceptReporters&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;items&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;番茄酱&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ketchup&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;蛋黄酱&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mayonnaise&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mushroom&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mushroom&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;辣椒酱&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hot sauce&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>菜单<code>vegetables</code>同理：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;acceptReporters&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;items&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;土豆&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;potato&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;胡萝卜&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;carrot&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Unnamed vegitable&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Unnamed vegitable&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Named vegitable of Onion&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;onion&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Cabbage白菜&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Cabbage白菜&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="实验中⚠"><a href="#实验中⚠" class="header-anchor">#</a> 实验中⚠</h3> <h4 id="使用ts装饰器特性定义积木"><a href="#使用ts装饰器特性定义积木" class="header-anchor">#</a> 使用TS装饰器特性定义积木</h4> <p><code>BlockTypes</code>命名空间中的所有方法（<code>BlockTypes.Plain</code>除外）都是装饰器工厂都可用于定义积木，其中<code>Command</code>装饰器可用于定义<strong>无返回值</strong>的<code>方形</code>积木，<code>Reporter</code>装饰器可用于定义<code>有返回值</code>的<code>圆形</code>积木，其他类型如<code>帽子</code>积木和<code>布尔</code>积木等同理。</p> <p><code>Plain</code>装饰器需要两个参数，第一个参数为积木类型，积木类型为<code>command</code>或<code>reporter</code>等，后一个参数传入积木上要显示的文字，其中，积木文字上可以使用一种实验性的字符串定义结构，框架能自动解析出参数名称、类型、默认值等。</p> <p>所有可用的装饰器接受的积木文字均可以使用美元符号<code>$</code>和分号<code>;</code>配对或一对方括号<code>[]</code>来定义参数框，填入参数名称，后接冒号<code>:</code>为参数的类型，可选择与上文<code>Block.create</code>方法中等价的类型，再后接等于号<code>=</code>为默认值，默认值必须为字符串，框架会自动将其转换为对应的类型。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token decorator"><span class="token at operator">@</span><span class="token function">BlockTypes</span></span><span class="token punctuation">.</span><span class="token function">Command</span><span class="token punctuation">(</span><span class="token string">&quot;alert [sth:string=hello] with suffix $suffix:menu=suffixes;&quot;</span><span class="token punctuation">)</span>
<span class="token function">alertTest</span><span class="token punctuation">(</span>args<span class="token operator">:</span> AnyArg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>sth <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> args<span class="token punctuation">.</span>suffix<span class="token punctuation">)</span><span class="token punctuation">;</span>
    dataStore<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;alertedSth&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">.</span>sth<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dataStore<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;lastSuffix&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">.</span>suffix<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">BlockTypes</span></span><span class="token punctuation">.</span><span class="token function">Plain</span><span class="token punctuation">(</span><span class="token string">&quot;reporter&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;get alerted sth&quot;</span><span class="token punctuation">)</span>
<span class="token function">getAlertedSth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> dataStore<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token string">&quot;alertedSth&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>不过，这种写法目前处于实验阶段，无法使用智能提示，且依赖TS的独有特性，未来可能会出现无法解决的bug或被弃用，因此不推荐使用。</p> <p>接下来，请查看<a href="./api/unnecessary">拓展开发时的常用工具集</a>或<a href="./api/general">已释放的通用API</a></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/fs-context/assets/js/app.38257f5d.js" defer></script><script src="/fs-context/assets/js/2.98f2da43.js" defer></script><script src="/fs-context/assets/js/1.37ef2fe2.js" defer></script><script src="/fs-context/assets/js/25.303e5042.js" defer></script>
  </body>
</html>
